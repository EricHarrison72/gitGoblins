{% extends 'base.html.jinja' %}
{% import 'helpers/selectors.html.jinja' as selectors %}
{% import 'helpers/data_display.html.jinja' as data_display %}
{% import 'helpers/icon_display.html.jinja' as icon_display %}

{% block title %}
  Weather Summary
{% endblock %}

{% block header %}
  Weather Summary
{% endblock %}

{% block content %}
<div class="centered-content">
  <br>

  <div style="overflow-x: auto;">
    <table class='select-table'>
      <tr>
        <th>Location</th>
        <th>Date</th>
      </tr>
      <tr>
        <td>{{ selectors.select_single_location( url_args['city_name']) }}</td>
        <td>{{ selectors.select_date('', url_args['date']) }}</td>
        <td>
          <button onclick="reloadPageWithArgs(`city_name=${getCityFromSelection()}&date=${getDateFromSelection()}`)" class="dropdown-style">
            Submit
          </button>
        </td>
      </tr>
    </table>
  </div>
</div>

  <br><br>

  <!-- Flex container for side-by-side layout -->
  <div class="flex-container">
    <div class="table-container">
      {{ data_display.weather_details_table( weather_dict) }}
    </div>

  <div class="flex-item">
    
    {{ data_display.weather_overview(weather_dict, weather_icon)}}
    <br>
    <br>

    {{ graph_html }}
  
  </div>  
</div>

{% endblock %}

{% block scripts %}
  <script src="{{ url_for('static', filename='js/submit.js') }}"></script>
{% endblock %}
