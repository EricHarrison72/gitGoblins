{# --------------------------------------------------
selectors.html.jinja
----------------------
Contains macros for selection menus, including:
- select_date
- select_single_location
- select_multiple_locations

Docs:
- [Jinja2 Docs: Macros](https://jinja.palletsprojects.com/en/3.1.x/templates/#macros)
-------------------------------------------------- #}

{% macro select_date(div_id='dateSelect', url_arg_date='2017-06-24') %}

    {% set selected_year = url_arg_date[:4] | int %}
    {% set selected_month = url_arg_date[5:7] | int %}
    {% set selected_day = url_arg_date[8:] | int %}

    <div id="{{ div_id }}">
        <select id="yearSelect">
            {% for year in range(2008, 2018) %}
                <option value="{{ year }}" {% if year == selected_year %} selected {% endif %}>
                        {{ year }}
                </option>
            {% endfor %}
        </select>

        <select id="monthSelect">
            {% set months = [
                'January',
                'February',
                'March',
                'April',
                'May',
                'June',
                'July',
                'August',
                'September',
                'October',
                'November',
                'December'
            ] %}

            {% for i in range(months|length) %}
                <option value="{{ i+1 }}" {% if i+1 == selected_month %} selected {% endif %}>
                    {{ months[i] }}
                </option>
            {% endfor %}
        </select>

        <select id="daySelect">
            {% for day in range(1, 32) %}
                <option value="{{ day }}" {% if day == selected_day %} selected {% endif %}>
                    {{ day }}
                </option>
            {% endfor %}
        </select>
    </div>
{% endmacro %}


{% macro select_single_location(url_arg_city='Canberra') %}
    <select id="citySelect">
        {% set cities = [
            'Adelaide',
            'Albany',
            'Albury',
            'Alice Springs',
            'Badgerys Creek',
            'Ballarat',
            'Bendigo',
            'Brisbane',
            'Cairns',
            'Canberra',
            'Cobar',
            'Coffs Harbour',
            'Dartmoor',
            'Darwin',
            'Gold Coast',
            'Hobart',
            'Katherine',
            'Launceston',
            'Melbourne',
            'Melbourne Airport',
            'Mildura',
            'Moree',
            'Mount Gambier',
            'Mount Ginini',
            'Newcastle',
            'Nhil',
            'Norah Head',
            'Norfolk Island',
            'Nuriootpa',
            'Pearce RAAF',
            'Penrith',
            'Perth',
            'Perth Airport',
            'Portland',
            'Richmond',
            'Sale',
            'Salmon Gums',
            'Sydney',
            'Sydney Airport',
            'Townsville',
            'Tuggeranong',
            'Uluru',
            'Wagga Wagga',
            'Walpole',
            'Watsonia',
            'Williamtown',
            'Witchcliffe',
            'Wollongong',
            'Woomera',
        ] %}

        {% for i in range(cities|length) %}
            <option value="{{ i+1 }}" {% if cities[i] == url_arg_city %} selected {% endif %}>
                {{ cities[i] }}
            </option>
        {% endfor %}

    </select>
{% endmacro %}